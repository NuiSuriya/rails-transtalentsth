<div id="testi-cards" class='mt-3 mb-5'>
  <div class="container px-5">
    <swiper-container class='px-0 px-md-5' pagination="true" pagination-clickable="true" space-between="20"
    slides-per-view="2">
      <% @testimonials.each do |testimonial| %>
        <swiper-slide>
          <div class="pb-5">
            <div class="card p-5">
              <div class="row">
                <div class="col-md-5">
                  <% if testimonial.photo.key? %>
                    <div class='testi-square-container' style="background-image: url('<%= cl_image_path testimonial.photo.key %>')">
                    </div>
                  <% else %>
                    <div class='testi-square-container' style="background-image: url('<%= image_path '1.jpg' %>')">
                    </div>
                  <% end %>
                </div>

                <div class="col-md-7 d-flex align-items-center mt-5 mt-lg-0 mt-md-0">
                  <div class='text-center text-lg-start text-md-start'>
                    <h4 class='text-blue' style='font-weight: 700; font-size: 1.5rem'>
                      <%= testimonial.name %>
                    </h4>
                    <p style='font-size: 0.7rem'><%= testimonial.detail %></p>
                    <p><%= testimonial.content %></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </swiper-slide>
      <% end %>
    </swiper-container>
  </div>
</div>

<script>
  const swiperEl = document.querySelector('swiper-container')
  Object.assign(swiperEl, {
    slidesPerView: 1,
    spaceBetween: 10,
    pagination: {
      clickable: true,
    },
    breakpoints: {
      320: {
        slidesPerView: 1,
        spaceBetween: 20,
      },

      480: {
        slidesPerView: 1,
        spaceBetween: 20,
      },

      1024: {
        slidesPerView: 2,
        spaceBetween: 20,
      },
    },
  });
  swiperEl.initialize();
</script>
